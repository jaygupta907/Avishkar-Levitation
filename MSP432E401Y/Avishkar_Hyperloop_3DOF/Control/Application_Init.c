/*
 * Application_Init.c
 *
 *  Created on: 04-Nov-2022
 *      Author: ESB203C
 */
#include <Control/Filter.h>
#include <Control/PID_controller.h>

#define NOTCH_NUM_COEFF_0_1 0.9901f
#define NOTCH_NUM_COEFF_1_1 -1.9801f
#define NOTCH_NUM_COEFF_2_1 0.9901f
#define NOTCH_DEN_COEFF_1_1 -1.9801f
#define NOTCH_DEN_COEFF_2_1 0.9802f

#define BP_NUM_COEFF_0_1 1.009f
#define BP_NUM_COEFF_1_1 -1.998f
#define BP_NUM_COEFF_2_1 0.989f
#define BP_DEN_COEFF_1_1 -1.9980f
#define BP_DEN_COEFF_2_1 0.9980f

#define PID_POS_CONTROL_KP_1 35000.0f
#define PID_POS_CONTROL_KI_1 00.0f
#define PID_POS_CONTROL_KD_1 00.0f
#define PID_POS_CONTROL_KAI_1 0.0f
#define PID_POS_CONTROL_TS_1 0.0002f
#define PID_POS_CONTROL_N_1 200.0f
#define PID_POS_CONTROL_ACC_LIMIT_P_1 25.0f
#define PID_POS_CONTROL_ACC_LIMIT_N_1 -25.0f


#define NOTCH_NUM_COEFF_0_2 0.9901f
#define NOTCH_NUM_COEFF_1_2 -1.9801f
#define NOTCH_NUM_COEFF_2_2 0.9901f
#define NOTCH_DEN_COEFF_1_2 -1.9801f
#define NOTCH_DEN_COEFF_2_2 0.9802f

#define BP_NUM_COEFF_0_2 1.009f
#define BP_NUM_COEFF_1_2 -1.998f
#define BP_NUM_COEFF_2_2 0.989f
#define BP_DEN_COEFF_1_2 -1.9980f
#define BP_DEN_COEFF_2_2 0.9980f

#define PID_POS_CONTROL_KP_2 35000.0f
#define PID_POS_CONTROL_KI_2 00.0f
#define PID_POS_CONTROL_KD_2 00.0f
#define PID_POS_CONTROL_KAI_2 0.0f
#define PID_POS_CONTROL_TS_2 0.0002f
#define PID_POS_CONTROL_N_2 200.0f
#define PID_POS_CONTROL_ACC_LIMIT_P_2 25.0f
#define PID_POS_CONTROL_ACC_LIMIT_N_2 -25.0f

void Application_Init(void)
{
    ASW_IIR_second_order_init(&Filter_Notch_1, NOTCH_NUM_COEFF_0_1,NOTCH_NUM_COEFF_1_1, NOTCH_NUM_COEFF_2_1, NOTCH_DEN_COEFF_1_1, NOTCH_DEN_COEFF_2_1);
    ASW_IIR_second_order_init(&Filter_BP_1, BP_NUM_COEFF_0_1,BP_NUM_COEFF_1_1, BP_NUM_COEFF_2_1, BP_DEN_COEFF_1_1, BP_DEN_COEFF_2_1);
    Initialise_PID(&PID_Position_Control_1, PID_POS_CONTROL_KP_1, PID_POS_CONTROL_KI_1, PID_POS_CONTROL_KD_1,  PID_POS_CONTROL_KAI_1, PID_POS_CONTROL_N_1, PID_POS_CONTROL_ACC_LIMIT_P_1, PID_POS_CONTROL_ACC_LIMIT_N_1  , PID_POS_CONTROL_TS_1);
    ASW_IIR_second_order_init(&Filter_Notch_2, NOTCH_NUM_COEFF_0_2,NOTCH_NUM_COEFF_1_2, NOTCH_NUM_COEFF_2_2, NOTCH_DEN_COEFF_1_2, NOTCH_DEN_COEFF_2_2);
    ASW_IIR_second_order_init(&Filter_BP_2, BP_NUM_COEFF_0_2,BP_NUM_COEFF_1_2, BP_NUM_COEFF_2_2, BP_DEN_COEFF_1_2, BP_DEN_COEFF_2_2);
    Initialise_PID(&PID_Position_Control_2, PID_POS_CONTROL_KP_2, PID_POS_CONTROL_KI_2, PID_POS_CONTROL_KD_2,  PID_POS_CONTROL_KAI_2, PID_POS_CONTROL_N_2, PID_POS_CONTROL_ACC_LIMIT_P_2, PID_POS_CONTROL_ACC_LIMIT_N_2  , PID_POS_CONTROL_TS_2);
}


